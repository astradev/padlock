<div class="col-lg-3">
<div class="panel panel-default">
  <div class="panel-body folderwrapper">
    <p class="text-right">  
      <a rel="tooltip" class="toggleall" title="{{@L.toggleall}}" data-placement="bottom" style="position:absolute;right:100px;top:25px;cursor:pointer"><i class="fa fa-expand"></i></a>
      <a rel="tooltip" title="{{@L.editfolder}}" data-placement="bottom" style="position:absolute;right:80px;top:25px;cursor:pointer" data-toggle="modal" data-target="#folderform-{{ @folderID }}"><i class="fa fa-pencil-square-o"></i></a>
      <a id="loadTree" rel="tooltip" title="{{@L.refreshfolder}}" data-placement="bottom" style="position:absolute;right:60px;top:25px;cursor:pointer"><i class="fa fa-refresh"></i></a>
      <a rel="tooltip" title="{{@L.addfolder}}" data-placement="bottom" style="position:absolute;right:40px;top:25px;cursor:pointer;" data-toggle="modal" data-target="#folderform"><i class="fa fa-plus"></i></a>
    </p>
    <h4 class="text-left">{{@L.folders}}</h4>
    <div id="tree">
      {{ @folderTree | raw }}
    </div>
  </div>
</div>
</div>

<div class="col-lg-9">
  <div class="panel panel-default">
    <div class="panel-body">
      <p class="text-right"><a style="position:absolute;right:40px;top:25px;cursor:pointer;" rel="tooltip" title="{{@L.addpassword}}" data-placement="bottom" data-toggle="modal" data-target="#passwordform"><i class="fa fa-plus"></i></a></p>
      <table class="table table-striped table-hover ">
        <thead>
          <tr>
            <th>{{@L.label}}</th>
            <th>{{@L.username}}</th>
            <th>{{@L.password}}</th>
            <th>{{@L.description}}</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <repeat group="{{ @passwords }}" value="{{ @pw }}">
          <tr>
            <td>{{ @pw.label }}</td>
            <td>{{ @pw.login }}</td>
            <td>{{ @pw.password }}</td>
            <td>{{ @pw.description }}</td>
            <td>
              <a data-toggle="modal" style="cursor:pointer;color:#000;" data-target="#passwordform-{{@pw.id}}" rel="tooltip" title="{{@L.edit}}" data-placement="bottom"><i class="fa fa-pencil-square-o"></i></a>&nbsp;
              <a data-toggle="confirmation" style="cursor:pointer;color:#000;" rel="tooltip" title="{{@L.delete}}" data-placement="bottom"><i class="fa fa-trash-o"></i></a>
            </td>
          </tr>
          </repeat>	
        </tbody>
      </table>
    </div>
  </div>
</div>

<repeat group="{{ @folderList }}" value="{{ @folder }}">
<div class="modal fade" id="folderform-{{ @folder.id }}" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <a style="cursor:pointer;float:right;" data-dismiss="modal"><i class="fa fa-times"></i></a>        
        <h3 class="text-left">{{@L.editfolder}}</h3>
        <form action="{{@BASE}}/folder/edit" method="post" name="editfolder">
          <input type="hidden" name="id" class="form-control" style="color:#000;" value="{{ @folder.id }}">
          <input type="text" name="name" class="form-control" style="color:#000;" value="{{ @folder.name }}">
          <br>
          <select class="form-control selectpicker" multiple-title="{{@L.upperfolder}}" name="parent_id">
            {{ @optionFolders | raw }}
          </select>
          <br><br>
          <button type="submit" class="btn btn-default btn-edit" name="edit">{{@L.editfolder}}</button>
        <form>
          <form action="{{@BASE}}/folder/delete" method="post" name="deletefolder">
            <button type="submit" class="btn btn-danger btn-delete" name="delete"><i class="fa fa-trash-o"></i></button>
        </form>
      </div>
    </div>
  </div>
</div>
</repeat>

<div class="modal fade" id="folderform" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <a style="cursor:pointer;float:right;" data-dismiss="modal"><i class="fa fa-times"></i></a>
        <include href="folderform.html">
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="passwordform" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body"> 
        <a style="cursor:pointer;float:right;" data-dismiss="modal"><i class="fa fa-times"></i></a>
        <h3 class="text-left">{{@L.addpassword}}</h3>
        <form action="{{@BASE}}/password/add" method="post">
          <input type="hidden" name="id" value="">
          <input type="text" name="label" class="form-control" style="color:#000;" value="" placeholder="{{@L.label}}">
          <br>
          <input type="text" name="password" class="form-control" value="" placeholder="{{@L.password}}">
          <br>
          <input type="text" name="login" class="form-control" value="" placeholder="{{@L.username}}">
          <br>
          <textarea rows="3" style="resize:none;" name="description" class="form-control" placeholder="{{@L.description}}"></textarea>
          <br>
          <select class="form-control selectpicker" multiple-title="{{@L.upperfolder}}" name="folder_id">
            {{ @optionFolders | raw }}
          </select>
          <br>
          <button type="submit" class="btn btn-default btn-block">{{@L.addpassword}}</button>
        </form>
      </div>
    </div>
  </div>
</div>

<repeat group="{{ @passwords }}" value="{{ @pw }}">
<div class="modal fade" id="passwordform-{{@pw.id}}" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body"> 
        <a style="cursor:pointer;float:right;" data-dismiss="modal"><i class="fa fa-times"></i></a>
        <include href="passwordform.html">
      </div>
    </div>
  </div>
</div>
</repeat>
